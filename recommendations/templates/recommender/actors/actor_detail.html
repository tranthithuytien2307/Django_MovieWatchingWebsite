{% extends "base.html" %}
{% block title %}{{ actor.name }}{% endblock %}

{% block content %}
<div class="container py-4">

  <a href="{% url 'actor_list' %}" class="btn btn-outline-secondary mb-3">
    <i class="fa-solid fa-arrow-left"></i> Quay lại
  </a>

  <!-- ================== ACTOR PROFILE ================== -->
  <div class="card shadow-sm border-0 p-4 mb-4" style="border-radius:16px;">
    <div class="row g-4">

      <!-- Avatar -->
      <div class="col-md-4 text-center">
        {% if actor.image %}
          <img src="{{ actor.image }}"
               class="img-fluid rounded-4 shadow-sm"
               style="max-height: 330px; object-fit: cover; width: 100%;">
        {% else %}
          <div class="bg-secondary text-white rounded-4 d-flex align-items-center justify-content-center shadow-sm"
               style="height: 330px;">
            <i class="fa-solid fa-user fa-3x"></i>
          </div>
        {% endif %}
      </div>

      <!-- Actor Info -->
      <div class="col-md-8">
        <h2 class="fw-bold mb-3">
          <i class="fa-solid fa-star text-warning"></i> {{ actor.name }}
        </h2>

        <p class="text-muted mb-2">
          <i class="fa-solid fa-cake-candles"></i>
          Ngày sinh:
          {% if actor.birthday %}
            <span class="fw-semibold"> {{ actor.birthday|date:"d/m/Y" }} </span>
          {% else %}
            <span class="text-secondary">Chưa rõ</span>
          {% endif %}
        </p>

        <p class="mt-3">
          {{ actor.description|default:"<span class='text-muted fst-italic'>Không có mô tả</span>"|safe }}
        </p>
      </div>

    </div>
  </div>

  <!-- ================== MOVIE LIST ================== -->
  <h4 class="fw-bold mb-3">
    <i class="fa-solid fa-film"></i> Phim đã tham gia
  </h4>

  <div class="row g-3 mt-1">
    {% for movie in movies %}
      <div class="col-lg-3 col-md-4 col-sm-6">
        <div class="card movie-card border-0 shadow-sm h-100 rounded-4"
             onclick="window.location.href='/admin/movies/{{ movie.id }}/'">

          <div class="ratio ratio-2x3">
            <img src="{{ movie.poster }}" class="card-img-top rounded-top-4"
                 style="object-fit: cover;">
          </div>

          <div class="card-body text-center">
            <h6 class="card-title fw-semibold">{{ movie.name }}</h6>
          </div>
        </div>
      </div>
    {% empty %}
      <p class="text-muted">Chưa có phim nào.</p>
    {% endfor %}
  </div>

</div>

<style>
  .movie-card {
    cursor: pointer;
    transition: 0.25s ease;
  }

  .movie-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 1.2rem 1.6rem rgba(0, 0, 0, 0.15);
  }

  .ratio-2x3 {
    aspect-ratio: 2 / 3;
    overflow: hidden;
  }
</style>

{% endblock %}
