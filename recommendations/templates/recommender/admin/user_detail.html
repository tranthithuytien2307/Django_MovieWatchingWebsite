{% extends "base.html" %} {% block title %}Chi ti·∫øt User{% endblock %} 
{% block content %}
<div class="container-fluid">
  <!-- Breadcrumb -->
  <nav class="mb-3">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="{% url 'users_list' %}">Danh s√°ch user</a>
      </li>
      <li class="breadcrumb-item active">Chi ti·∫øt user</li>
    </ol>
  </nav>

  <!-- User Detail Card -->
  <div class="card shadow-sm border-0 rounded-3 overflow-hidden">
    <div
      class="card-header bg-white py-3 border-bottom d-flex justify-content-between align-items-center"
    >
      <h5 class="mb-0 fw-semibold">Th√¥ng tin ng∆∞·ªùi d√πng</h5>

      <div class="d-flex gap-2">
        <a href="{% url 'users_list' %}" class="btn btn-back btn-sm btn-action">
          <i class="bi bi-arrow-left me-1"></i> Quay l·∫°i
        </a>

        <a
          href="{% url 'user_edit' user.id %}"
          class="btn btn-edit btn-sm btn-action"
        >
          <i class="bi bi-pencil-square me-1"></i> C·∫≠p nh·∫≠t
        </a>

        <a
          href="{% url 'user_change_password' user.id %}"
          class="btn btn-password btn-sm btn-action"
        >
          <i class="bi bi-key me-1"></i> ƒê·ªïi m·∫≠t kh·∫©u
        </a>

        {% if user.status %}
        <a
          href="{% url 'user_toggle_status' user.id %}"
          class="btn btn-disable btn-sm btn-action"
        >
          <i class="bi bi-person-x me-1"></i> V√¥ hi·ªáu h√≥a
        </a>
        {% else %}
        <a
          href="{% url 'user_toggle_status' user.id %}"
          class="btn btn-enable btn-sm btn-action"
        >
          <i class="bi bi-person-check me-1"></i> K√≠ch ho·∫°t
        </a>
        {% endif %}
      </div>
    </div>

    <div class="card-body p-4">
      <div class="row">
        <!-- Avatar -->
        <div class="col-md-3 text-center mb-3">
          {% if user.avatar %}
          <img src="{{ user.avatar }}" class="avatar-detail shadow-sm" />
          {% else %}
          <div class="avatar-placeholder-detail shadow-sm">
            {{ user.name|slice:":1"|upper }}
          </div>
          {% endif %}
        </div>

        <!-- Table Info -->
        <div class="col-md-9">
          <table class="table table-borderless detail-table">
            <tr>
              <th>H·ªç t√™n</th>
              <td>{{ user.name }}</td>
            </tr>

            <tr>
              <th>Email</th>
              <td>{{ user.email }}</td>
            </tr>

            <tr>
              <th>S·ªë ƒëi·ªán tho·∫°i</th>
              <td>{{ user.phone }}</td>
            </tr>

            <tr>
              <th>Role</th>
              <td>
                {% if user.role == "admin" %}
                <span class="badge role-admin">Admin</span>
                {% elif user.role == "staff" %}
                <span class="badge role-staff">Staff</span>
                {% else %}
                <span class="badge role-customer">Customer</span>
                {% endif %}
              </td>
            </tr>

            <tr>
              <th>Tr·∫°ng th√°i</th>
              <td>
                {% if user.status %}
                <span class="badge status-active">ƒêang ho·∫°t ƒë·ªông</span>
                {% else %}
                <span class="badge status-disable">ƒê√£ v√¥ hi·ªáu h√≥a</span>
                {% endif %}
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Avatar */
  .avatar-detail {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    object-fit: cover;
  }
  .avatar-placeholder-detail {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    background: #6c757d;
    color: white;
    font-size: 48px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* N√∫t chung */
  .btn-action {
    border-radius: 8px;
    padding: 6px 14px;
    font-weight: 500;
    transition: 0.2s;
    border: none;
  }

  /* Hover n√¢ng nh·∫π */
  .btn-action:hover {
    transform: translateY(-2px);
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12);
  }

  /* üé® 1. N√∫t C·∫≠p nh·∫≠t ‚Äì xanh lam pastel */
  .btn-edit {
    background: #d9e7ff;
    color: #0b3e91;
  }
  .btn-edit:hover {
    background: #c7dbff;
  }

  /* üé® 2. ƒê·ªïi m·∫≠t kh·∫©u ‚Äì cam pastel */
  .btn-password {
    background: #ffe6c7;
    color: #a75700;
  }
  .btn-password:hover {
    background: #ffdbb1;
  }

  /* üé® 3a. V√¥ hi·ªáu h√≥a ‚Äì ƒë·ªè pastel */
  .btn-disable {
    background: #ffd6d9;
    color: #a31422;
  }
  .btn-disable:hover {
    background: #ffc6cc;
  }

  /* üé® 3b. K√≠ch ho·∫°t ‚Äì xanh pastel */
  .btn-enable {
    background: #d8f4dc;
    color: #146b27;
  }
  .btn-enable:hover {
    background: #c8edcf;
  }

  .btn-back {
    background: #eeeeee;
    color: #333;
  }
  .btn-back:hover {
    background: #e2e2e2;
  }

  /* Table detail style */
  .detail-table th {
    width: 150px;
    font-weight: 600;
    color: #444;
    padding: 10px 0;
  }
  .detail-table td {
    padding: 10px 0;
  }

  /* Role badges */
  .role-admin {
    background: #ffe0e0;
    color: #b00000;
    padding: 6px 10px;
    border-radius: 8px;
  }
  .role-staff {
    background: #d7e7ff;
    color: #0d3c84;
    padding: 6px 10px;
    border-radius: 8px;
  }
  .role-customer {
    background: #e4e4e4;
    color: #333;
    padding: 6px 10px;
    border-radius: 8px;
  }

  /* Status badges */
  .status-active {
    background: #d4f5df;
    color: #1b6b2f;
    padding: 6px 12px;
    border-radius: 8px;
  }
  .status-disable {
    background: #ffe0e5;
    color: #a3001f;
    padding: 6px 12px;
    border-radius: 8px;
  }
</style>

{% endblock %}
